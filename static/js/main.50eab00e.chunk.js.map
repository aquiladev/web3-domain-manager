{"version":3,"sources":["components/GlobalStyle.js","utils/config.js","connectors.js","utils/constants.js","components/EtherscanAddress.js","components/DomainInfo.js","components/EtherscanBlock.js","components/EtherscanTransaction.js","components/DomainEventsTable.js","components/DomainList.js","sources/ethereum.js","utils/contract.js","utils/address.js","components/RecordsForm.js","components/MintDomainForm.js","sources/thegraph.js","components/Domains.js","components/Lookup.js","services/udRegistry.js","components/BuyDomain.js","components/Search.js","components/Identicon.js","components/AccountModal.js","images/mm.png","images/wc.svg","images/cw.svg","components/ConnectModal.js","components/ConnectButton.js","components/Header.js","components/Footer.js","components/DeprecatedNetwork.js","DefaultApp.js","hooks.js","GnosisSafeApp.js","App.js","reportWebVitals.js","index.js"],"names":["GlobalStyle","createGlobalStyle","avertaFont","avertaBoldFont","config","1","rpcUrl","linkedChainId","client","ApolloClient","uri","cache","InMemoryCache","5","137","80001","injected","InjectedConnector","supportedChainIds","walletconnect","WalletConnectConnector","rpc","qrcode","pollingInterval","walletlink","WalletLinkConnector","url","appName","DOMAIN_EVENTS","ETHERSCAN_MAP","ZERO_ADDRESS","CHAIN_ID_NETWORK","3","4","8","18","42","30","31","61","77","99","100","108","122","163","EtherscanAddress","address","chainId","label","Link","href","target","rel","useStyles","makeStyles","header","paddingTop","DomainInfo","domain","classes","records","Object","entries","filter","recordsRaw","map","key","val","Grid","container","item","xs","sm","Typography","style","fontWeight","noWrap","id","registry","resolver","owner","length","className","variant","EtherscanBlock","blockNumber","EtherscanTransaction","transactionHash","substr","loader","width","display","flexDirection","alignItems","renderEventType","event","args","from","to","renderEvent","data","keys","reduce","obj","approved","tokenId","toHexString","operator","updateId","JSON","stringify","DomainEventsTable","events","isFetched","TableContainer","Table","table","size","aria-label","TableHead","TableRow","TableCell","align","TableBody","i","component","scope","CircularProgress","color","theme","backdrop","zIndex","drawer","tabs","TabPanel","props","children","other","index","role","hidden","Box","DomainList","isFetching","domains","onEventsLoad","onDomainSelect","actions","useState","expanded","setExpanded","undefined","domainTab","setDomainTab","setEvents","useEffect","selectDomain","_","isExpanded","selectDomainEvents","tab","a","Backdrop","open","Accordion","onChange","disabled","loading","AccordionSummary","expandIcon","thickness","name","AccordionDetails","startsWith","Tabs","value","marginBottom","Tab","Divider","AccordionActions","EthereumEventSource","library","contract","this","contracts","NetworkConfig","networks","values","find","x","toLowerCase","Error","onProgressObservers","fn","push","contractEvents","filters","filtersMap","Approval","NewURI","Transfer","Resolve","Sync","Set","current","Promise","all","e","includes","queryFilter","deploymentBlock","then","_progress","loaded","total","flat","sort","b","_fetchEvents","parseInt","tokenOrArray","fromBlock","toBlock","limit","provider","getBlockNumber","_toBlock","Math","min","console","log","nextLimit","floor","concat","message","forEach","createContract","abi","signer","ethers","providers","Web3Provider","getSigner","Contract","source","onProgress","isAddress","test","replace","addressHash","sha3","toUpperCase","isChecksumAddress","form","minWidth","breakpoints","down","record","paddingBottom","recordKey","recordKeySelectContainer","marginRight","recordKeySelect","recordValue","grow","flexGrow","RecordsForm","updating","error","onUpdate","onCancel","setRecordKey","setRecordValue","displayable","fillableKeys","setForm","filledRecords","newValue","filledKeys","supportedKeys","deleteRecord","_record","_records","r","muted","some","TextField","defaultValue","IconButton","onClick","fontSize","Autocomplete","options","renderInput","params","Alert","severity","marginTop","Button","domainName","marginLeft","prefix","MintDomainForm","minting","onMint","setDomainName","tld","setTLD","select","MenuItem","getAccount","force","query","gql","variables","String","fetchPolicy","account","_parseDomains","unknownTokens","d","_getDomainNamesMap","getDomain","_parseRecords","Array","tokenIds","ids","Transition","React","forwardRef","ref","Slide","direction","padding","btn","margin","noDomains","textAlign","Domains","stateKey","setData","fetched","setFetched","setDomain","defaultResolverError","setDefaultResolverError","defaultResolving","setDefaultResolving","receiver","setReceiver","transferError","setTransferError","transferring","setTransferring","setRecords","updateError","setUpdateError","setUpdating","allowMinting","setAllowMinting","domainToMint","setDomainToMint","mintError","setMintError","setMinting","cnsRegistry","cnsRegistryJson","CNSRegistry","unsRegistry","unsRegistryJson","UNSRegistry","mintingManager","mintingManagerJson","MintingManager","handleTransferClose","handleTransfer","_domain","debug","updateDomainState","handleUpdate","resolverJson","keysToUpdate","valuesToUpdate","setMany","handleMint","claim","loadTokens","initMinting","paused","_account","_data","_domains","Container","fetchEvents","domainEvents","resolveTo","Resolver","handleRecordsOpen","handleTransferOpen","handleRefresh","Dialog","TransitionComponent","maxWidth","keepMounted","onClose","DialogContent","DialogActions","root","input","spacing","flex","iconButton","Lookup","domainParam","useParams","setError","proxyReader","proxyReaderJson","ProxyReader","_keys","search","utils","isHexString","fetchName","namehash","loadData","token","exists","fetchNewURIEvents","callStatic","getData","k","type","Paper","InputBase","onKeyPress","charCode","placeholder","inputProps","BASE_URL","getAvailability","fetch","response","json","getPurchaseParams","method","headers","body","currency","paddingLeft","buy","acc","accSum","BuyDomain","status","price","useWeb3React","handleBuy","res","txParams","tx","sendTransaction","Chip","backgroundColor","toFixed","Search","history","useHistory","availability","setAvailability","_availabilityResp","trim","listPrice","usdCents","icon","height","borderRadius","borderColor","Identicon","useRef","innerHTML","appendChild","Jazzicon","slice","modal","box","AccountModal","anchorEl","deactivate","connector","Boolean","handleClose","Popover","anchorOrigin","vertical","horizontal","transformOrigin","text","cursor","close","connectorsByName","MetaMask","WalletConnect","connectorsLogo","mmLogo","wcLogo","cwLogo","closeButton","position","right","top","palette","grey","justifyContent","textTransform","img","maxHeight","DialogTitle","disableTypography","ConnectModal","isOpen","activate","src","alt","box_net","background","box_acc","info_btn","info_btn_text","paddingRight","connect_btn","ConnectButton","balance","setBalance","modalEl","setModalEl","connect","setConnect","stale","getBalance","catch","parseFloat","formatEther","currentTarget","title","textDecoration","up","navBtn","menuLink","shape","alpha","common","black","searchIcon","pointerEvents","inputRoot","inputInput","transition","transitions","create","Header","active","setAnchorEl","AppBar","Toolbar","aria-controls","aria-expanded","aria-haspopup","Menu","PaperProps","transform","footer","boxShadow","info","Footer","data-icon","data-size","process","DeprecatedNetwork","createMuiTheme","overrides","MuiFilledInput","MuiDialogActions","overflow","minHeight","content","navButton","getErrorMessage","NoEthereumProviderError","UnsupportedChainIdError","UserRejectedRequestErrorInjected","UserRejectedRequestErrorWalletConnect","getLibrary","DefaultApp","activatingConnector","setActivatingConnector","suppress","ethereum","window","on","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","tried","setTried","isAuthorized","useEagerConnect","ThemeProvider","bottom","left","path","NETWORK_CHAIN_ID","mainnet","goerli","GnosisSafeApp","useSafeAppsSDK","sdk","safe","network","web3Provider","useMemo","SafeAppProvider","safeAddress","REACT_APP_SAPP_TARGET","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactGA","initialize","send","hitType","page","location","pathname","ReactDOM","render","App","document","getElementById"],"mappings":"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","file":"static/js/main.50eab00e.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\nimport avertaFont from '@gnosis.pm/safe-react-components/dist/fonts/averta-normal.woff2';\nimport avertaBoldFont from '@gnosis.pm/safe-react-components/dist/fonts/averta-bold.woff2';\n\nconst GlobalStyle = createGlobalStyle`\n  html {\n    height: 100%\n  }\n  body {\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n  }\n  @font-face {\n    font-family: 'Averta';\n    src: local('Averta'), local('Averta Bold'),\n    url(${avertaFont}) format('woff2'),\n    url(${avertaBoldFont}) format('woff');\n  }\n  #root {\n    height: 100%;\n  }\n  #records-form .MuiFilledInput-input {\n    padding-top: 13px;\n  }\n  .MuiFormControl-root,\n  .MuiInputBase-root {\n    width: 100% !important;\n  }\n  .MuiAccordionSummary-content {\n    overflow: auto;\n  }\n`;\n\nexport default GlobalStyle;\n","import { ApolloClient, InMemoryCache } from \"@apollo/client\";\n\nexport const config = {\n  1: {\n    rpcUrl: \"https://mainnet.infura.io/v3/3947c045ca5a4d68bff484fb038fb11c\",\n    linkedChainId: 137,\n    client: new ApolloClient({\n      uri: \"https://api.thegraph.com/subgraphs/name/aquiladev/uns\",\n      cache: new InMemoryCache(),\n    }),\n  },\n  5: {\n    rpcUrl: \"https://goerli.infura.io/v3/3947c045ca5a4d68bff484fb038fb11c\",\n    linkedChainId: 80001,\n    client: new ApolloClient({\n      uri: \"https://api.thegraph.com/subgraphs/name/aquiladev/uns-goerli\",\n      cache: new InMemoryCache(),\n    }),\n  },\n  137: {\n    rpcUrl:\n      \"https://polygon-mainnet.infura.io/v3/3947c045ca5a4d68bff484fb038fb11c\",\n    linkedChainId: 1,\n    client: new ApolloClient({\n      uri: \"https://api.thegraph.com/subgraphs/name/aquiladev/uns-polygon\",\n      cache: new InMemoryCache(),\n    }),\n  },\n  80001: {\n    rpcUrl:\n      \"https://polygon-mumbai.infura.io/v3/3947c045ca5a4d68bff484fb038fb11c\",\n    linkedChainId: 5,\n    client: new ApolloClient({\n      uri: \"https://api.thegraph.com/subgraphs/name/aquiladev/uns-mumbai\",\n      cache: new InMemoryCache(),\n    }),\n  },\n};\n","import { InjectedConnector } from \"@web3-react/injected-connector\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\nimport { WalletLinkConnector } from \"@web3-react/walletlink-connector\";\n\nimport { config } from \"./utils/config\";\n\nexport const POLLING_INTERVAL = 12000;\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [1, 5, 137, 80001],\n});\n\nexport const walletconnect = new WalletConnectConnector({\n  rpc: {\n    1: config[1].rpcUrl,\n    5: config[5].rpcUrl,\n    137: config[137].rpcUrl,\n    80001: config[80001].rpcUrl,\n  },\n  qrcode: true,\n  pollingInterval: POLLING_INTERVAL,\n});\n\nexport const walletlink = new WalletLinkConnector({\n  url: config[1].rpcUrl,\n  appName: \"Web3 Domain Manager\",\n  supportedChainIds: [1, 5, 137, 80001],\n});\n","export const DOMAIN_EVENTS = [\n  \"Approval\",\n  \"NewURI\",\n  \"Transfer\",\n  \"Resolve\",\n  \"Sync\",\n  \"Set\",\n];\n\nexport const ETHERSCAN_MAP = {\n  1: \"https://etherscan.io/\",\n  5: \"https://goerli.etherscan.io/\",\n  137: \"https://polygonscan.com/\",\n  80001: \"https://mumbai.polygonscan.com/\",\n};\n\nexport const ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n\nexport const CHAIN_ID_NETWORK = {\n  1: \"Mainnet\",\n  3: \"Ropsten\",\n  4: \"Rinkeby\",\n  5: \"Goerli\",\n  8: \"Ubiq\",\n  18: \"ThundercoreTestnet\",\n  42: \"Kovan\",\n  30: \"Orchid\",\n  31: \"OrchidTestnet\",\n  61: \"Classic\",\n  77: \"Sokol\",\n  99: \"Core\",\n  100: \"xDai\",\n  108: \"Thundercore\",\n  122: \"Fuse\",\n  137: \"Polygon Mainnet\",\n  163: \"Lightstreams\",\n  80001: \"Polygon Mumbai\",\n};\n","import React from 'react';\nimport Link from '@material-ui/core/Link';\n\nimport { ZERO_ADDRESS, ETHERSCAN_MAP } from './../utils/constants';\n\nconst EtherscanAddress = ({ address, chainId, label }) => {\n  return (\n    <>\n      {\n        address === ZERO_ADDRESS ?\n          address :\n          <Link\n            href={`${ETHERSCAN_MAP[chainId]}address/${address}`}\n            target='_blank'\n            rel='noopener'>\n            {label || address}\n          </Link>\n      }\n    </>\n  );\n}\n\nexport default EtherscanAddress;","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport EtherscanAddress from \"./EtherscanAddress\";\n\nconst useStyles = makeStyles(() => ({\n  header: {\n    paddingTop: 30,\n  },\n}));\n\nconst DomainInfo = ({ domain, chainId }) => {\n  const classes = useStyles();\n\n  const records = Object.entries((domain || {}).records || []).filter(\n    ([_, val]) => !!val\n  );\n  const recordsRaw = records.map(([key, val]) => {\n    return (\n      <Grid container item xs={12} key={`${domain.id}_${key}`}>\n        <Grid item sm={3} xs={12}>\n          <Typography style={{ fontWeight: \"bold\" }} noWrap>\n            {key}\n          </Typography>\n        </Grid>\n        <Grid item sm={9} xs={12}>\n          <Typography noWrap>{val}</Typography>\n        </Grid>\n      </Grid>\n    );\n  });\n\n  return (\n    <>\n      <Grid container item xs={12}>\n        <Grid item sm={3} xs={12}>\n          <b>ID</b>\n        </Grid>\n        <Grid item sm={9} xs={12}>\n          <Typography noWrap>{domain.id}</Typography>\n        </Grid>\n      </Grid>\n      <Grid container item xs={12}>\n        <Grid item sm={3} xs={12}>\n          <b>Registry</b>\n        </Grid>\n        <Grid item sm={9} xs={12}>\n          <Typography noWrap>\n            <EtherscanAddress\n              address={domain.registry}\n              chainId={chainId}\n              label={domain.registry}\n            ></EtherscanAddress>\n          </Typography>\n        </Grid>\n      </Grid>\n      <Grid container item xs={12}>\n        <Grid item sm={3} xs={12}>\n          <b>Resolver</b>\n        </Grid>\n        <Grid item sm={9} xs={12}>\n          <Typography noWrap>\n            <EtherscanAddress\n              address={domain.resolver}\n              chainId={chainId}\n            ></EtherscanAddress>\n          </Typography>\n        </Grid>\n      </Grid>\n      <Grid container item xs={12}>\n        <Grid item sm={3} xs={12}>\n          <b>Owner</b>\n        </Grid>\n        <Grid item sm={9} xs={12}>\n          <Typography noWrap>\n            <EtherscanAddress\n              address={domain.owner}\n              chainId={chainId}\n            ></EtherscanAddress>\n          </Typography>\n        </Grid>\n      </Grid>\n      {records.length ? (\n        <>\n          <Grid container item xs={12}>\n            <Typography className={classes.header} variant=\"subtitle1\">\n              Records\n            </Typography>\n          </Grid>\n          {recordsRaw}\n        </>\n      ) : (\n        <></>\n      )}\n    </>\n  );\n};\n\nexport default DomainInfo;\n","import React from 'react';\nimport Link from '@material-ui/core/Link';\n\nimport { ETHERSCAN_MAP } from './../utils/constants';\n\nconst EtherscanBlock = ({ blockNumber, chainId }) => {\n  return (\n    <Link\n      href={`${ETHERSCAN_MAP[chainId]}block/${blockNumber}`}\n      target='_blank'\n      rel='noopener'>\n      {blockNumber}\n    </Link>\n  );\n}\n\nexport default EtherscanBlock;","import React from 'react';\nimport Link from '@material-ui/core/Link';\n\nimport { ETHERSCAN_MAP } from './../utils/constants';\n\nconst EtherscanTransaction = ({ transactionHash, chainId }) => {\n  return (\n    <Link\n      href={`${ETHERSCAN_MAP[chainId]}tx/${transactionHash}`}\n      target='_blank'\n      rel='noopener'>\n      {transactionHash.substr(0, 8)}...\n    </Link>\n  );\n}\n\nexport default EtherscanTransaction;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { ZERO_ADDRESS } from './../utils/constants';\nimport EtherscanAddress from './EtherscanAddress';\nimport EtherscanBlock from './EtherscanBlock';\nimport EtherscanTransaction from './EtherscanTransaction';\n\nconst useStyles = makeStyles(() => ({\n  header: {\n    paddingTop: 30\n  },\n  loader: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n}));\n\nconst renderEventType = (event) => {\n  switch (event.event) {\n    case 'Transfer':\n      return <>{\n        event.args.from === ZERO_ADDRESS ?\n          'Mint' :\n          event.args.to === ZERO_ADDRESS ?\n            'Burn' :\n            'Transfer'\n      }</>;\n    default:\n      return <>{event.event}</>;\n  }\n}\n\nconst renderEvent = (event, chainId) => {\n  const data = Object.keys(event.args)\n    .filter(key => !(+key) && key !== '0')\n    .reduce((obj, key) => {\n      obj[key] = event.args[key];\n      return obj;\n    }, {});\n\n  switch (event.event) {\n    case 'Approval':\n      return <>Approved operator {event.args.approved} for token {event.args.tokenId.toHexString()}</>;\n    case 'ApprovalForAll':\n      return <>{event.args.approved ? 'Approved' : 'Disapproved'} operator {event.args.operator}</>;\n    case 'NewURI':\n      return <>{event.args.uri}</>;\n    case 'Resolve':\n      return <>Set resolver {\n        <EtherscanAddress address={event.args.to} chainId={chainId}></EtherscanAddress>\n      }</>;\n    case 'Sync':\n      return <>Set record with key hash {event.args.updateId.toHexString()} <div>(Resolver: {\n        <EtherscanAddress address={event.args.resolver} chainId={chainId}></EtherscanAddress>\n      })</div></>;\n    case 'Transfer':\n      return <>\n        Transfer to {\n          <EtherscanAddress address={event.args.to} chainId={chainId}></EtherscanAddress>\n        }\n        {event.args.from !== ZERO_ADDRESS &&\n          <div>(From: {<EtherscanAddress address={event.args.from} chainId={chainId}></EtherscanAddress>})</div>\n        }\n      </>;\n    default:\n      return <>{JSON.stringify(data, null, '  ')}</>;\n  }\n}\n\nconst DomainEventsTable = ({ events, chainId }) => {\n  const classes = useStyles();\n\n  return (\n    <>\n      {events && events.isFetched &&\n        <TableContainer>\n          <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Block</TableCell>\n                <TableCell>Tx</TableCell>\n                <TableCell align=\"left\">Event</TableCell>\n                <TableCell align=\"left\">Data</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {events && events.events.map((event, i) =>\n                <TableRow key={i}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    <EtherscanBlock blockNumber={event.blockNumber} chainId={chainId}></EtherscanBlock>\n                  </TableCell>\n                  <TableCell component=\"th\" scope=\"row\">\n                    <EtherscanTransaction transactionHash={event.transactionHash} chainId={chainId}></EtherscanTransaction>\n                  </TableCell>\n                  <TableCell align=\"left\">{renderEventType(event, chainId)}</TableCell>\n                  <TableCell align=\"left\">{renderEvent(event, chainId)}</TableCell>\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      }\n      {events && !events.isFetched &&\n        <div className={classes.loader}>\n          <CircularProgress color=\"inherit\" />\n        </div>\n      }\n    </>\n  );\n};\n\nexport default DomainEventsTable;\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionActions from '@material-ui/core/AccordionActions';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\n\nimport DomainInfo from './DomainInfo';\nimport DomainEventsTable from './DomainEventsTable';\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  tabs: {\n    width: '100%',\n  }\n}));\n\nconst TabPanel = (props) => {\n  const { children, display, index, ...other } = props;\n\n  return (\n    <div\n      role='tabpanel'\n      hidden={!display}\n      {...other}\n    >\n      {display && (\n        <Box>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nconst DomainList = ({ chainId, isFetching, domains, onEventsLoad, onDomainSelect, actions }) => {\n  const classes = useStyles();\n\n  const [expanded, setExpanded] = useState(false);\n  const [domainTab, setDomainTab] = useState(undefined);\n  const [events, setEvents] = useState({});\n\n  useEffect(() => {\n    if(domains && domains.length === 1) {\n      selectDomain(domains[0])(undefined, true);\n    }\n  }, [domains]);\n\n  const selectDomain = (domain) => (_, isExpanded) => {\n    setExpanded(isExpanded ? domain.id : false);\n    setDomainTab(domain.id);\n    onDomainSelect && onDomainSelect(domain);\n  };\n\n  const selectDomainEvents = (domain) => async (_, tab) => {\n    const events = await onEventsLoad(domain);\n    setEvents(events);\n    setDomainTab(tab);\n  };\n\n  return (\n    <>\n      {\n        <Backdrop className={classes.backdrop} open={isFetching}>\n          <CircularProgress color='inherit' />\n        </Backdrop>\n      }\n      {domains && domains.length ?\n        <div>\n          {domains.map(domain => (\n            <Accordion\n              expanded={expanded === domain.id}\n              onChange={selectDomain(domain)}\n              disabled={domain.loading}\n              key={domain.id}>\n              <AccordionSummary expandIcon={\n                domain.loading\n                  ? <CircularProgress size={18} thickness={5} />\n                  : <ExpandMoreIcon />\n                }>\n                <Typography noWrap>{domain.name || `[${domain.id}]`}</Typography>\n              </AccordionSummary>\n              <AccordionDetails>\n                {domainTab && domainTab.startsWith(domain.id) &&\n                  <div className={classes.tabs}>\n                    <Tabs value={domainTab} onChange={selectDomainEvents(domain)} style={{ marginBottom: 20 }}>\n                      <Tab label='Info' value={domain.id} />\n                      <Tab label='Events' value={`${domain.id}_e`} />\n                    </Tabs>\n                    <TabPanel display={domain.id === domainTab}>\n                      <DomainInfo domain={domain} chainId={chainId} />\n                    </TabPanel>\n                    <TabPanel display={`${domain.id}_e` === domainTab}>\n                      <DomainEventsTable events={events} chainId={chainId} />\n                    </TabPanel>\n                  </div>\n                }\n              </AccordionDetails>\n              <Divider />\n              {actions &&\n                <AccordionActions>\n                  {actions}\n                </AccordionActions>\n              }\n            </Accordion>\n          ))}\n        </div> :\n        <></>\n      }\n    </>\n  )\n}\n\nexport default DomainList;\n","import NetworkConfig from \"uns/uns-config.json\";\n\nimport { DOMAIN_EVENTS } from \"./../utils/constants\";\n\nexport default class EthereumEventSource {\n  constructor(library, chainId, contract) {\n    this.library = library;\n    this.chainId = chainId;\n    this.contract = contract;\n\n    const { contracts } = NetworkConfig.networks[chainId];\n    const config = Object.values(contracts).find(\n      (x) => x.address.toLowerCase() === contract.address.toLowerCase()\n    );\n    if (!config) {\n      throw new Error(\n        `Config of contract ${contract.address} not found (chainId: ${chainId})`\n      );\n    }\n    this.config = config;\n\n    this.onProgressObservers = [];\n  }\n\n  onProgress(fn) {\n    this.onProgressObservers.push(fn);\n  }\n\n  async fetchEvents(domain) {\n    const contractEvents = Object.keys(this.contract.filters);\n    const filtersMap = {\n      Approval: (tokenId) =>\n        this.contract.filters.Approval(undefined, undefined, tokenId),\n      NewURI: (tokenId) => this.contract.filters.NewURI(tokenId),\n      Transfer: (tokenId) =>\n        this.contract.filters.Transfer(undefined, undefined, tokenId),\n      Resolve: (tokenId) => this.contract.filters.Resolve(tokenId),\n      Sync: (tokenId) =>\n        this.contract.filters.Sync(undefined, undefined, tokenId),\n      Set: (tokenId) => this.contract.filters.Set(tokenId),\n    };\n\n    let current = 1;\n    return Promise.all(\n      DOMAIN_EVENTS.filter((e) => contractEvents.includes(e)).map((event) => {\n        const filter = filtersMap[event](domain.id);\n        return this.contract\n          .queryFilter(filter, this.config.deploymentBlock)\n          .then(\n            this._progress({\n              loaded: current++,\n              total: DOMAIN_EVENTS.length,\n            })\n          );\n      })\n    ).then((x) => x.flat().sort((a, b) => a.blockNumber - b.blockNumber));\n  }\n\n  async fetchTransferEvents(address) {\n    const filter = this.contract.filters.Transfer(undefined, address);\n    return this._fetchEvents(\n      this.contract,\n      filter,\n      parseInt(this.config.deploymentBlock, 16)\n    );\n  }\n\n  async fetchNewURIEvents(tokenOrArray) {\n    const filter = this.contract.filters.NewURI(tokenOrArray);\n    return this._fetchEvents(\n      this.contract,\n      filter,\n      parseInt(this.config.deploymentBlock, 16)\n    );\n  }\n\n  async _fetchEvents(contract, filter, fromBlock, toBlock, limit = 1000000) {\n    if (!toBlock) {\n      toBlock = await contract.provider.getBlockNumber();\n    }\n\n    if (fromBlock > toBlock) {\n      return [];\n    }\n\n    const _toBlock = Math.min(fromBlock + limit, toBlock);\n    console.log(\n      `Fetching events blocks [${contract.address}: ${fromBlock}-${_toBlock}][limit: ${limit}]`\n    );\n\n    try {\n      const events = await contract.queryFilter(filter, fromBlock, _toBlock);\n      const nextLimit = Math.min(Math.floor(limit * 2), 1000000);\n      return events.concat(\n        await this._fetchEvents(\n          contract,\n          filter,\n          _toBlock + 1,\n          toBlock,\n          nextLimit\n        )\n      );\n    } catch (err) {\n      if (\n        err.message.includes(\"query returned more than 10000 results\") ||\n        err.message.includes(\"timeout\")\n      ) {\n        return this._fetchEvents(\n          contract,\n          filter,\n          fromBlock,\n          toBlock,\n          Math.floor(limit / 10)\n        );\n      }\n\n      console.log(\"FAIL\", err);\n      throw err;\n    }\n  }\n\n  _progress(data) {\n    this.onProgressObservers.forEach((fn) => fn(data));\n  }\n}\n","import { ethers } from \"ethers\";\n\nimport EthereumEventSource from \"../sources/ethereum\";\n\nexport function createContract(library, chainId, abi, config) {\n  const provider = new ethers.providers.Web3Provider(library.provider);\n  const signer = provider.getSigner();\n  const contract = new ethers.Contract(config.address, abi, signer);\n\n  contract.source = new EthereumEventSource(library, chainId, contract);\n  contract.source.onProgress(console.log);\n  return contract;\n}\n","import sha3 from 'crypto-js/sha3';\n\nexport function isAddress(address) {\n  if (!/^(0x)?[0-9a-f]{40}$/i.test(address)) {\n    // check if it has the basic requirements of an address\n    return false;\n  } else if (/^(0x)?[0-9a-f]{40}$/.test(address) || /^(0x)?[0-9A-F]{40}$/.test(address)) {\n    // If it's all small caps or all all caps, return true\n    return true;\n  } else {\n    // Otherwise check each case\n    return isChecksumAddress(address);\n  }\n};\n\nexport function isChecksumAddress(address) {\n  // Check each case\n  address = address.replace('0x', '');\n  var addressHash = sha3(address.toLowerCase());\n  for (var i = 0; i < 40; i++) {\n    // the nth letter should be uppercase if the nth digit of casemap is 1\n    if ((parseInt(addressHash[i], 16) > 7 && address[i].toUpperCase() !== address[i]) ||\n      (parseInt(addressHash[i], 16) <= 7 && address[i].toLowerCase() !== address[i])) {\n      return false;\n    }\n  }\n  return true;\n};\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport supportedKeys from \"uns/resolver-keys.json\";\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    minWidth: 600,\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: \"initial\",\n    },\n  },\n  record: {\n    paddingTop: 8,\n    paddingBottom: 8,\n  },\n  recordKey: {\n    fontWeight: \"bold\",\n  },\n  recordKeySelectContainer: {\n    marginRight: 10,\n  },\n  recordKeySelect: {\n    width: \"100%\",\n  },\n  recordValue: {\n    display: \"flex\",\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  actions: {\n    display: \"flex\",\n    paddingTop: 20,\n    paddingBottom: 8,\n  },\n}));\n\nconst RecordsForm = ({ records, updating, error, onUpdate, onCancel }) => {\n  const classes = useStyles();\n\n  const [recordKey, setRecordKey] = useState(\"\");\n  const [recordValue, setRecordValue] = useState(\"\");\n  const [form, setForm] = useState({\n    records: [],\n    displayable: [],\n    fillableKeys: [],\n  });\n\n  useEffect(() => {\n    const filledRecords = Object.entries(records)\n      .filter(([_, val]) => !!val)\n      .map(([key, value]) => {\n        return { key, value, newValue: value };\n      });\n    const filledKeys = filledRecords.map((x) => x.key);\n    const fillableKeys = Object.keys(supportedKeys.keys).filter(\n      (x) => !filledKeys.includes(x)\n    );\n\n    setForm({\n      records: filledRecords,\n      displayable: filledRecords,\n      fillableKeys: fillableKeys,\n    });\n  }, [records]);\n\n  const updateRecord = (_record) => (event) => {\n    const value = event.target.value;\n    const _records = form.records.map((r) => {\n      if (r.key === _record) {\n        r.newValue = value;\n        r.muted = r.value !== value;\n      }\n      return r;\n    });\n\n    const filledKeys = _records.map((x) => x.key);\n    const fillableKeys = Object.keys(supportedKeys.keys).filter(\n      (x) => !filledKeys.includes(x)\n    );\n\n    setForm({\n      records: _records,\n      displayable: _records.filter((r) => !!r.newValue),\n      fillableKeys: fillableKeys,\n      muted: _records.some((r) => r.muted),\n    });\n  };\n\n  const deleteRecord = (_record) => () => {\n    const _records = form.records.map((r) => {\n      if (r.key === _record) {\n        r.newValue = undefined;\n        r.muted = r.value !== undefined;\n      }\n      return r;\n    });\n    const filledKeys = _records.map((x) => x.key);\n    const fillableKeys = Object.keys(supportedKeys.keys).filter(\n      (x) => !filledKeys.includes(x)\n    );\n\n    setForm({\n      records: _records,\n      displayable: _records.filter((r) => !!r.newValue),\n      fillableKeys: fillableKeys,\n      muted: _records.some((r) => r.muted),\n    });\n  };\n\n  const addRecord = () => {\n    if (!recordKey || !recordValue) {\n      return;\n    }\n\n    const _records = [\n      ...form.records,\n      {\n        key: recordKey,\n        value: undefined,\n        newValue: recordValue,\n        muted: recordValue !== undefined,\n      },\n    ];\n    const filledKeys = _records.map((x) => x.key);\n    const fillableKeys = Object.keys(supportedKeys.keys).filter(\n      (x) => !filledKeys.includes(x)\n    );\n\n    setForm({\n      records: _records,\n      displayable: _records.filter((r) => !!r.newValue),\n      fillableKeys: fillableKeys,\n      muted: _records.some((r) => r.muted),\n    });\n    setRecordValue(\"\");\n    setRecordKey(\"\");\n  };\n\n  const update = () => {\n    onUpdate && onUpdate(form.records.filter((r) => r.muted));\n  };\n\n  return (\n    <>\n      <Grid className={classes.form} id=\"records-form\">\n        {form.displayable.map(({ key, newValue }) => {\n          return (\n            <Grid\n              container\n              item\n              xs={12}\n              key={`${key}`}\n              className={classes.record}\n            >\n              <Grid item xs={12} className={classes.recordKey}>\n                {key}\n              </Grid>\n              <Grid item xs={12} className={classes.recordValue}>\n                <TextField\n                  variant=\"filled\"\n                  defaultValue={newValue}\n                  size=\"small\"\n                  className={classes.grow}\n                  onChange={updateRecord(key)}\n                />\n                <IconButton aria-label=\"delete\" onClick={deleteRecord(key)}>\n                  <DeleteIcon fontSize=\"small\" />\n                </IconButton>\n              </Grid>\n            </Grid>\n          );\n        })}\n        <Grid container item xs={12} className={classes.record}>\n          <Grid item sm={4} xs={12}>\n            <div className={classes.recordKeySelectContainer}>\n              <Autocomplete\n                value={recordKey}\n                className={classes.recordKeySelect}\n                options={form.fillableKeys}\n                onChange={(_, value) => {\n                  setRecordKey(value);\n                }}\n                renderInput={(params) => (\n                  <TextField {...params} label=\"Key\" size=\"small\" />\n                )}\n              />\n            </div>\n          </Grid>\n          <Grid item sm={8} xs={12} className={classes.recordValue}>\n            <TextField\n              label=\"Value\"\n              size=\"small\"\n              className={classes.grow}\n              defaultValue={recordValue}\n              value={recordValue}\n              onChange={(event) => {\n                setRecordValue(event.target.value);\n              }}\n            />\n            <IconButton\n              aria-label=\"add\"\n              disabled={!recordKey}\n              onClick={addRecord}\n            >\n              <AddIcon fontSize=\"small\" />\n            </IconButton>\n          </Grid>\n        </Grid>\n        <Grid>\n          {error && (\n            <Alert severity=\"error\" style={{ marginTop: 10 }}>\n              {error}\n            </Alert>\n          )}\n        </Grid>\n        <Grid className={classes.actions}>\n          <Button\n            color=\"primary\"\n            onClick={() => {\n              onCancel && onCancel();\n            }}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={!form.muted}\n            onClick={update}\n          >\n            Update\n          </Button>\n          <div className={classes.grow}></div>\n        </Grid>\n      </Grid>\n      {\n        <Backdrop className={classes.backdrop} open={updating}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      }\n    </>\n  );\n};\n\nexport default RecordsForm;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Alert from '@material-ui/lab/Alert';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    minWidth: 600,\n    [theme.breakpoints.down('sm')]: {\n      minWidth: 'initial',\n    }\n  },\n  domainName: {\n    display: 'flex',\n  },\n  grow: {\n    marginLeft: 8,\n    flexGrow: 1,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  prefix: {\n  },\n  actions: {\n    display: 'flex',\n    paddingTop: 20,\n    paddingBottom: 8,\n  },\n}));\n\nconst MintDomainForm = ({ minting, error, onMint, onCancel }) => {\n  const classes = useStyles();\n\n  const [domainName, setDomainName] = useState('');\n  const [tld, setTLD] = useState('0x0f4a10a4f46c288cea365fcf45cccf0e9d901b945b9829ccdb54c10dc3cb7a6f');\n\n  const mint = () => {\n    onMint && onMint(tld, domainName);\n  }\n\n  return (\n    <>\n      <Grid className={classes.form}>\n        <Grid container item xs={12}>\n          <Grid item sm={3} xs={12}>\n            <TextField\n              disabled\n              label='Prefix'\n              defaultValue='udtestdev-'\n              variant='outlined'\n              size='small'\n              className={classes.prefix}\n            />\n          </Grid>\n          <Grid item sm={7} xs={12} className={classes.domainName}>\n            <TextField variant='outlined'\n              label='Domain name'\n              size='small'\n              className={classes.grow}\n              onChange={(event) => { setDomainName(event.target.value); }} />\n          </Grid>\n          <Grid item sm={2} xs={12}>\n            <TextField\n              label='TLD'\n              size='small'\n              variant='outlined'\n              defaultValue={tld}\n              onChange={(event) => { setTLD(event.target.value) }}\n              className={classes.grow} select>\n              <MenuItem value='0x0f4a10a4f46c288cea365fcf45cccf0e9d901b945b9829ccdb54c10dc3cb7a6f'>.crypto</MenuItem>\n              {/* <MenuItem value='0x7674e7282552c15f203b9c4a6025aeaf28176ef7f5451b280f9bada3f8bc98e2'>.coin</MenuItem> */}\n              <MenuItem value='0x1e3f482b3363eb4710dae2cb2183128e272eafbe137f686851c1caea32502230'>.wallet</MenuItem>\n              <MenuItem value='0x042fb01c1e43fb4a32f85b41c821e17d2faeac58cfc5fb23f80bc00c940f85e3'>.bitcoin</MenuItem>\n              <MenuItem value='0x241e7e2b7fd7333b3c0c049b326316b811af0c01cfc0c7a90b466fda3a70fc2d'>.x</MenuItem>\n              <MenuItem value='0x5c828ec285c0bf152a30a325b3963661a80cb87641d60920344caf04d4a0f31e'>.888</MenuItem>\n              <MenuItem value='0xb75cf4f3d8bc3deb317ed5216d898899d5cc6a783f65f6768eb9bcb89428670d'>.nft</MenuItem>\n              <MenuItem value='0xb5f2bbf81da581299d4ff7af60560c0ac854196f5227328d2d0c2bb0df33e553'>.dao</MenuItem>\n              <MenuItem value='0x4118ebbd893ecbb9f5d7a817c7d8039c1bd991b56ea243e2ae84d0a1b2c950a7'>.blockchain</MenuItem>\n            </TextField>\n          </Grid>\n        </Grid>\n        <Grid>\n          {error &&\n            <Alert severity='error' style={{ marginTop: 10 }}>\n              {error}\n            </Alert>\n          }\n        </Grid>\n        <Grid className={classes.actions}>\n          <Button color='primary' onClick={() => { onCancel && onCancel() }}>\n            Cancel\n          </Button>\n          <Button\n            color='primary'\n            variant='contained'\n            disabled={!domainName}\n            onClick={mint}>\n            Mint\n          </Button>\n          <div className={classes.grow}></div>\n        </Grid>\n      </Grid>\n      {\n        <Backdrop className={classes.backdrop} open={minting}>\n          <CircularProgress color='inherit' />\n        </Backdrop>\n      }\n    </>\n  );\n}\n\nexport default MintDomainForm;\n","import { gql } from \"@apollo/client\";\n\nimport { config } from \"../utils/config\";\n\nexport const getAccount = async (chainId, address, force = false) => {\n  if (!chainId || !address) {\n    throw new Error(\n      `Invalid arguments [chainId: ${chainId}, account: ${address}]`\n    );\n  }\n\n  const { client } = config[chainId];\n  if (!client) {\n    throw new Error(`Unsupported chain ${chainId}`);\n  }\n\n  const { data } = await client.query({\n    query: gql`\n      query GetAccount($id: ID!) {\n        account(id: $id) {\n          id\n          reverse {\n            id\n            name\n          }\n          domains {\n            id\n            name\n            registry\n            owner {\n              id\n            }\n            resolver {\n              address\n              records {\n                key\n                value\n              }\n            }\n          }\n        }\n      }\n    `,\n    variables: { id: String(address).toLowerCase() },\n    fetchPolicy: force ? \"no-cache\" : undefined,\n  });\n\n  const { account } = data;\n  if (!account) {\n    return {};\n  }\n\n  const domains = _parseDomains(account.domains);\n\n  // Domain name lookup in linked network\n  const unknownTokens = domains.filter((d) => !d.name).map((d) => d.id);\n  if (unknownTokens.length) {\n    const map = await _getDomainNamesMap(\n      config[chainId].linkedChainId,\n      unknownTokens\n    );\n    console.log(\n      \"NO_NAME_DOMAINS\",\n      domains.filter((d) => !d.name).map((d) => d.id),\n      map\n    );\n    domains.map((d) => {\n      if (!d.name && !!map[d.id]) {\n        d.name = map[d.id];\n      }\n      return d;\n    });\n  }\n\n  return {\n    id: account.id,\n    domains,\n  };\n};\n\nexport const getDomain = async (chainId, tokenId, force = false) => {\n  if (!chainId || !tokenId) {\n    throw new Error(\n      `Invalid arguments [chainId: ${chainId}, tokenId: ${tokenId}]`\n    );\n  }\n\n  const { client } = config[chainId];\n  if (!client) {\n    throw new Error(`Unsupported chain ${chainId}`);\n  }\n\n  const { data } = await client.query({\n    query: gql`\n      query GetDomain($id: ID!) {\n        domain(id: $id) {\n          id\n          name\n          registry\n          owner {\n            id\n          }\n          resolver {\n            address\n            records {\n              key\n              value\n            }\n          }\n        }\n      }\n    `,\n    variables: { id: String(tokenId).toLowerCase() },\n    fetchPolicy: force ? \"no-cache\" : undefined,\n  });\n\n  const { domain } = data;\n  if (!domain) {\n    return {};\n  }\n\n  return {\n    id: domain.id,\n    name: domain.name,\n    owner: domain.owner.id,\n    registry: domain.registry,\n    resolver: (domain.resolver || {}).address,\n    records: _parseRecords(domain.resolver),\n  };\n};\n\nconst _parseDomains = (domains) => {\n  if (!domains || !Array(domains).length) {\n    return [];\n  }\n\n  return Object.values(domains).map((d) => {\n    return {\n      id: d.id,\n      name: d.name,\n      owner: d.owner.id,\n      registry: d.registry,\n      resolver: (d.resolver || {}).address,\n      records: _parseRecords(d.resolver),\n    };\n  });\n};\n\nconst _parseRecords = (resolver) => {\n  if (!resolver || !resolver.records) {\n    return {};\n  }\n\n  return Object.values(resolver.records).reduce((obj, r) => {\n    obj[r.key] = r.value;\n    return obj;\n  }, {});\n};\n\nconst _getDomainNamesMap = async (chainId, tokenIds) => {\n  const { client } = config[chainId];\n  if (!client) {\n    throw new Error(`Unsupported chain ${chainId}`);\n  }\n\n  const { data } = await client.query({\n    query: gql`\n      query filteredDomains($ids: [ID!]!) {\n        domains(where: { id_in: $ids }) {\n          id\n          name\n        }\n      }\n    `,\n    variables: {\n      ids: tokenIds,\n    },\n  });\n  const { domains } = data;\n  if (!domains) {\n    return {};\n  }\n\n  return Object.values(domains).reduce((obj, key) => {\n    obj[key.id] = key.name;\n    return obj;\n  }, {});\n};\n","import React, { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\n\nimport NetworkConfig from \"uns/uns-config.json\";\nimport cnsRegistryJson from \"uns/artifacts/CNSRegistry.json\";\nimport unsRegistryJson from \"uns/artifacts/UNSRegistry.json\";\nimport resolverJson from \"uns/artifacts/Resolver.json\";\nimport mintingManagerJson from \"uns/artifacts/MintingManager.json\";\n\nimport DomainList from \"./DomainList\";\nimport { createContract } from \"../utils/contract\";\nimport { isAddress } from \"../utils/address\";\nimport RecordsForm from \"./RecordsForm\";\nimport MintDomainForm from \"./MintDomainForm\";\nimport { ZERO_ADDRESS } from \"./../utils/constants\";\nimport { getAccount, getDomain } from \"../sources/thegraph\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    padding: \"10px 0\",\n  },\n  form: {\n    minWidth: 600,\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: \"initial\",\n    },\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  tabs: {\n    width: \"100%\",\n  },\n  btn: {\n    margin: \"0 10px\",\n  },\n  noDomains: {\n    textAlign: \"center\",\n  },\n}));\n\n// NOTE: It is not possible to use `useWeb3React` context here, because Gnosis Safe provider\nconst Domains = ({ library, account, chainId }) => {\n  const classes = useStyles();\n  const stateKey = `${account}_${chainId}`;\n\n  const [data, setData] = useState({\n    [stateKey]: {\n      isFetched: false,\n      domains: [],\n    },\n  });\n  const [fetched, setFetched] = useState(true);\n  const [domainTab, setDomainTab] = React.useState(undefined);\n  const [domain, setDomain] = useState(undefined);\n\n  const [defaultResolverError, setDefaultResolverError] =\n    React.useState(undefined);\n  const [defaultResolving, setDefaultResolving] = React.useState(false);\n\n  const [receiver, setReceiver] = React.useState();\n  const [transferError, setTransferError] = React.useState(undefined);\n  const [transferring, setTransferring] = React.useState(false);\n\n  const [records, setRecords] = useState(undefined);\n  const [updateError, setUpdateError] = React.useState(undefined);\n  const [updating, setUpdating] = React.useState(false);\n\n  const [allowMinting, setAllowMinting] = useState(false);\n  const [domainToMint, setDomainToMint] = useState(false);\n  const [mintError, setMintError] = React.useState(undefined);\n  const [minting, setMinting] = React.useState(false);\n\n  const { contracts } = NetworkConfig.networks[chainId];\n  const cnsRegistry = createContract(\n    library,\n    chainId,\n    cnsRegistryJson.abi,\n    contracts.CNSRegistry\n  );\n  const unsRegistry = createContract(\n    library,\n    chainId,\n    unsRegistryJson.abi,\n    contracts.UNSRegistry\n  );\n  const mintingManager = createContract(\n    library,\n    chainId,\n    mintingManagerJson.abi,\n    contracts.MintingManager\n  );\n\n  const handleTransferOpen = (_domain) => () => {\n    setDomain(_domain);\n  };\n\n  const handleRecordsOpen = (_domain) => () => {\n    setRecords(_domain);\n    setUpdateError();\n  };\n\n  const handleTransferClose = () => {\n    if (transferring) {\n      return;\n    }\n\n    setDomain();\n    setReceiver();\n    setTransferError();\n  };\n\n  const handleTransfer = async (_domain, receiver) => {\n    console.debug(account, receiver, _domain.id);\n\n    setTransferError();\n    if (!isAddress(receiver)) {\n      setTransferError(\"Recipient address is invalid\");\n      return;\n    }\n\n    try {\n      setTransferring(true);\n\n      const registry =\n        unsRegistry.address === _domain.registry ? unsRegistry : cnsRegistry;\n      await registry[\"safeTransferFrom(address,address,uint256)\"](\n        account,\n        receiver,\n        _domain.id\n      );\n\n      setDomain();\n      await updateDomainState(_domain);\n    } catch (error) {\n      console.error(error);\n      setTransferError(error && error.message);\n      return;\n    } finally {\n      setTransferring(false);\n    }\n  };\n\n  const setDefaultResolver = (_domain) => async () => {\n    console.debug(\"DEFAULT RESOLVER\", _domain.id);\n    setDefaultResolverError();\n\n    try {\n      setDefaultResolving(true);\n      await cnsRegistry.resolveTo(contracts.Resolver.address, _domain.id);\n\n      await updateDomainState(_domain);\n    } catch (error) {\n      console.error(error);\n      setDefaultResolverError(error && error.message);\n      return;\n    } finally {\n      setDefaultResolving(false);\n    }\n  };\n\n  const handleUpdate = async (_domain, records) => {\n    console.debug(\"UPDATE\", _domain, records);\n    setUpdateError();\n\n    try {\n      setUpdating(true);\n      const provider = new ethers.providers.Web3Provider(library.provider);\n      const resolver = new ethers.Contract(\n        _domain.resolver,\n        resolverJson.abi,\n        provider.getSigner()\n      );\n      const keysToUpdate = records.map((r) => r.key);\n      const valuesToUpdate = records.map((r) => r.newValue || \"\");\n      await resolver.setMany(keysToUpdate, valuesToUpdate, _domain.id);\n\n      setRecords();\n      await updateDomainState(_domain);\n    } catch (error) {\n      console.error(error);\n      setUpdateError(error && error.message);\n      return;\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  const handleMint = async (tld, domainName) => {\n    console.debug(\"MINT\", tld, domainName);\n    setMintError();\n\n    try {\n      setMinting(true);\n      await mintingManager.claim(tld, domainName);\n      setDomainToMint(false);\n      await loadTokens();\n    } catch (error) {\n      console.error(error);\n      setMintError(error && error.message);\n      return;\n    } finally {\n      setMinting(false);\n    }\n  };\n\n  const handleRefresh = (_domain) => async () => {\n    await updateDomainState(_domain);\n  };\n\n  const initMinting = async () => {\n    console.debug(\"Initiating minting...\");\n    const paused = await mintingManager.paused();\n    setAllowMinting(!paused);\n  };\n\n  const loadTokens = async () => {\n    setFetched(false);\n\n    const _account = await getAccount(chainId, account);\n    const _data = {\n      ...data,\n      [stateKey]: {\n        isFetched: true,\n        domains: (_account.domains || []).sort((a, b) => {\n          return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\n        }),\n      },\n    };\n    console.debug(\"Update state\", _data);\n    setData(_data);\n    setFetched(true);\n  };\n\n  const updateDomainState = async (domain) => {\n    const _domain = await getDomain(chainId, domain.id, true);\n    const domains = data[stateKey].domains\n      .map((d) => (_domain && d.id === _domain.id ? { ...d, ..._domain } : d))\n      .filter((d) => _domain || d.id !== domain.id);\n\n    const _data = {\n      ...data,\n      [stateKey]: {\n        isFetched: true,\n        domains,\n      },\n    };\n\n    console.debug(\"Update domain state\", _data);\n    setData(_data);\n    setDomainTab(_domain);\n  };\n\n  const loadDomainEvents = (domain) => {\n    console.debug(\"Loading DOMAIN events...\");\n\n    const registry =\n      unsRegistry.address.toLowerCase() === domain.registry\n        ? unsRegistry\n        : cnsRegistry;\n    return registry.source.fetchEvents(domain).then((domainEvents) => {\n      console.debug(\"Loaded DOMAIN events\", domainEvents);\n\n      return {\n        isFetched: true,\n        events: domainEvents || [],\n      };\n    });\n  };\n\n  useEffect(() => {\n    if (!data[stateKey] || !data[stateKey].isFetched) {\n      initMinting();\n      loadTokens();\n    }\n  }, [data, stateKey]);\n\n  const _domains = data && (data[stateKey] || {}).domains;\n  return (\n    <Container>\n      {_domains && _domains.length ? (\n        <div className={classes.header}>\n          <Typography variant=\"h5\" component=\"h6\" className={classes.grow}>\n            Domains ({_domains.length})\n          </Typography>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={!allowMinting}\n            onClick={() => {\n              setDomainToMint(true);\n            }}\n          >\n            Mint free domain\n          </Button>\n        </div>\n      ) : (\n        <></>\n      )}\n      <DomainList\n        chainId={chainId}\n        isFetching={!fetched}\n        domains={_domains}\n        onEventsLoad={loadDomainEvents}\n        onDomainSelect={(domain) => {\n          setDomainTab(domain);\n          setDefaultResolverError();\n        }}\n        actions={\n          <>\n            {domainTab && domainTab.resolver === ZERO_ADDRESS ? (\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                onClick={setDefaultResolver(domainTab)}\n              >\n                Set default resolver\n              </Button>\n            ) : (\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                onClick={handleRecordsOpen(domainTab)}\n              >\n                Update records\n              </Button>\n            )}\n            <Button\n              size=\"small\"\n              color=\"primary\"\n              onClick={handleTransferOpen(domainTab)}\n            >\n              Transfer\n            </Button>\n            <div className={classes.grow}>\n              {defaultResolverError && (\n                <Alert severity=\"error\">{defaultResolverError}</Alert>\n              )}\n            </div>\n            <Button\n              size=\"small\"\n              color=\"primary\"\n              onClick={handleRefresh(domainTab)}\n            >\n              <RefreshIcon />\n            </Button>\n          </>\n        }\n      />\n      <Dialog\n        open={!!domain}\n        TransitionComponent={Transition}\n        maxWidth=\"lg\"\n        keepMounted\n        onClose={handleTransferClose}\n      >\n        {!!domain && (\n          <>\n            <DialogTitle>Transfer {domain.name}</DialogTitle>\n            <DialogContent>\n              <Grid className={classes.form}>\n                <TextField\n                  label=\"Receiver\"\n                  variant=\"outlined\"\n                  size=\"small\"\n                  defaultValue={receiver}\n                  className={classes.grow}\n                  onChange={(event) => {\n                    setReceiver(event.target.value);\n                  }}\n                />\n              </Grid>\n              {transferError && (\n                <Alert severity=\"error\" style={{ marginTop: 10 }}>\n                  {transferError}\n                </Alert>\n              )}\n            </DialogContent>\n            <DialogActions>\n              <Button color=\"primary\" onClick={handleTransferClose}>\n                Cancel\n              </Button>\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                onClick={() => {\n                  handleTransfer(domain, receiver);\n                }}\n              >\n                Transfer\n              </Button>\n            </DialogActions>\n            {\n              <Backdrop className={classes.backdrop} open={transferring}>\n                <CircularProgress color=\"inherit\" />\n              </Backdrop>\n            }\n          </>\n        )}\n      </Dialog>\n      <Dialog\n        open={!!records}\n        TransitionComponent={Transition}\n        maxWidth=\"lg\"\n        keepMounted\n      >\n        {!!records && (\n          <>\n            <DialogTitle>Records [{records.name}]</DialogTitle>\n            <DialogContent>\n              <RecordsForm\n                records={records.records}\n                updating={updating}\n                error={updateError}\n                onUpdate={(_records) => {\n                  handleUpdate(records, _records);\n                }}\n                onCancel={() => {\n                  setRecords();\n                }}\n              />\n            </DialogContent>\n          </>\n        )}\n      </Dialog>\n      <Dialog\n        open={!!domainToMint}\n        TransitionComponent={Transition}\n        maxWidth=\"lg\"\n        keepMounted\n      >\n        <DialogTitle>Mint free domain</DialogTitle>\n        <DialogContent>\n          <MintDomainForm\n            minting={minting}\n            onMint={(tld, domainName) => {\n              handleMint(tld, domainName);\n            }}\n            onCancel={() => {\n              setDomainToMint(false);\n            }}\n            error={mintError}\n          />\n        </DialogContent>\n      </Dialog>\n      {fetched &&\n        data[stateKey] &&\n        data[stateKey].domains &&\n        !data[stateKey].domains.length && (\n          <p className={classes.noDomains}>\n            No domains found.\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.btn}\n              disabled={!allowMinting}\n              onClick={() => {\n                setDomainToMint(true);\n              }}\n            >\n              Mint free domain\n            </Button>\n            OR <a href=\"https://unstoppabledomains.com/\">Buy here</a>\n          </p>\n        )}\n      {\n        <Backdrop className={classes.backdrop} open={defaultResolving}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      }\n    </Container>\n  );\n};\n\nexport default Domains;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ethers } from 'ethers';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Alert from '@material-ui/lab/Alert';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport NetworkConfig from 'uns/uns-config.json';\nimport supportedKeys from 'uns/resolver-keys.json';\n\nimport cnsRegistryJson from 'uns/artifacts/CNSRegistry.json';\nimport unsRegistryJson from 'uns/artifacts/UNSRegistry.json';\nimport proxyReaderJson from 'uns/artifacts/ProxyReader.json';\n\nimport DomainList from './DomainList';\nimport { createContract } from '../utils/contract';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: 40,\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  loader: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n}));\n\nconst Lookup = ({ library, chainId }) => {\n  const classes = useStyles();\n  const { domain: domainParam } = useParams();\n\n  const [domainName, setDomainName] = useState(domainParam);\n  const [domain, setDomain] = useState(undefined);\n  const [fetched, setFetched] = useState(true);\n  const [error, setError] = useState(undefined);\n\n  const { contracts } = NetworkConfig.networks[chainId];\n  const cnsRegistry = createContract(library, chainId, cnsRegistryJson.abi, contracts.CNSRegistry);\n  const unsRegistry = createContract(library, chainId, unsRegistryJson.abi, contracts.UNSRegistry);\n  const proxyReader = createContract(library, chainId, proxyReaderJson.abi, contracts.ProxyReader);\n\n  const _keys = Object.keys(supportedKeys.keys);\n\n  useEffect(() => {\n    if(domainName) {\n      search();\n    }\n  }, [domainName]);\n\n  const search = async () => {\n    try {\n      setError(undefined);\n      if (domain && domainName === domain.name) {\n        return;\n      }\n\n      if(ethers.utils.isHexString(domainName) && domainName.length === 66) {\n        setDomainName(await fetchName(domainName));\n        return;\n      }\n\n      setDomain(undefined);\n      const tokenId = ethers.utils.namehash(domainName);\n      console.debug(domainName, tokenId);\n      await loadData(tokenId, domainName);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  const fetchName = async (token) => {\n    const registry = await unsRegistry.exists(token) ? unsRegistry : cnsRegistry;\n    const events = await registry.source.fetchNewURIEvents([token]);\n    if(!events.length) {\n      throw new Error(\"Token not found\");\n    }\n    return events.find(e => e.args.tokenId.toHexString() === token).args.uri;\n  }\n\n  const loadData = async (tokenId, name) => {\n    setFetched(false);\n\n    console.debug('Fetching state...');\n    const data = await proxyReader.callStatic.getData(_keys, tokenId);\n    console.debug('Fetched state', data);\n\n    const records = {};\n    _keys.forEach((k, i) => records[k] = data[2][i]);\n\n    const _domain = {\n      id: tokenId,\n      name,\n      registry: data.resolver === unsRegistry.address\n        ? unsRegistry.address\n        : cnsRegistry.address,\n      type: data.resolver === unsRegistry.address ? 'uns' : 'cns',\n      owner: data.owner,\n      resolver: data.resolver,\n      records\n    }\n\n    console.debug('Update state', _domain);\n    setFetched(true);\n    setDomain(_domain);\n  }\n\n  const loadDomainEvents = (domain) => {\n    console.debug('Loading DOMAIN events...');\n\n    const registry = unsRegistry.address === domain.registry ? unsRegistry : cnsRegistry;\n    return registry.source.fetchEvents(domain)\n      .then((domainEvents) => {\n        console.debug('Loaded DOMAIN events', domainEvents);\n\n        return {\n          isFetched: true,\n          events: domainEvents || []\n        };\n      });\n  }\n\n  const handleChange = (e) => {\n    setDomainName(e.target.value);\n  }\n\n  const keyPress = (e) => {\n    if (e.charCode === 13) {\n      search();\n    }\n  }\n\n  return (\n    <Container style={{ paddingTop: '3rem' }}>\n      <Paper className={classes.root}>\n        <InputBase\n          error={!!error}\n          className={classes.input}\n          onKeyPress={keyPress}\n          onChange={handleChange}\n          placeholder='Search domain (.crypto, .wallet, .bitcoin, .x, .888, .nft, .dao, .blockchain)'\n          inputProps={{ 'aria-label': 'search domain (.crypto, .wallet, .bitcoin, .x, .888, .nft, .dao, .blockchain)' }}\n          defaultValue={domainName}\n          value={domainName}\n        />\n        <IconButton\n          className={classes.iconButton}\n          onClick={search}\n          aria-label='search'>\n          <SearchIcon />\n        </IconButton>\n      </Paper>\n      {error && <Alert severity='error'>{error}</Alert>}\n      {!fetched &&\n        <div className={classes.loader}>\n          <CircularProgress color='inherit' />\n        </div>\n      }\n      {fetched && domain &&\n        <div style={{ marginTop: 20 }}>\n          <DomainList\n            chainId={chainId}\n            isFetching={!fetched}\n            domains={[domain]}\n            onEventsLoad={loadDomainEvents} />\n        </div>\n      }\n    </Container>\n  );\n};\n\nexport default Lookup;\n","const BASE_URL = \"https://api.unstoppabledomains.com\";\n// const BASE_URL = 'http://localhost:8080';\n\nexport const getAvailability = async (name) => {\n  if (!name) {\n    throw new Error(`Name is undefined [name: ${name}]`);\n  }\n\n  const url = `${BASE_URL}/registry/v1/domains/${name}`;\n  return fetch(url).then((response) => response.json());\n};\n\nexport const getPurchaseParams = async (name, owner) => {\n  if (!name) {\n    throw new Error(`Name is undefined [name: ${name}]`);\n  }\n\n  const url = `${BASE_URL}/registry/v1/domains/${name}/parameters/purchase`;\n  return fetch(url, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      owner: { address: owner },\n      records: {},\n      currency: \"MATIC\",\n    }),\n  }).then((response) => response.json());\n};\n","import { ethers } from \"ethers\";\nimport React, { useState } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Chip } from \"@material-ui/core\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Button from \"@material-ui/core/Button\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport { getPurchaseParams } from \"../services/udRegistry\";\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n    paddingLeft: 30,\n  },\n  buy: {\n    marginLeft: 16,\n    fontWeight: \"bold\",\n  },\n  acc: {\n    marginBottom: 16,\n  },\n  accSum: {\n    \"& > .Mui-expanded\": {\n      margin: \"initial\",\n    },\n  },\n}));\n\nconst BuyDomain = ({ library, name, status, price }) => {\n  const classes = useStyles();\n  const { account } = useWeb3React();\n\n  const [fetched, setFetched] = useState(true);\n  const [error, setError] = useState(undefined);\n\n  const handleBuy = async () => {\n    try {\n      setError(undefined);\n      setFetched(false);\n      const res = await getPurchaseParams(name, account);\n      console.log(\"RES\", res);\n\n      const { params: txParams } = res.tx;\n      const provider = new ethers.providers.Web3Provider(library.provider);\n      const params = {\n        to: txParams.to,\n        data: txParams.data,\n        value: txParams.value,\n      };\n\n      const signer = provider.getSigner();\n      await signer.sendTransaction(params);\n    } catch (error) {\n      console.error(error);\n      setError(error.message);\n    } finally {\n      setFetched(true);\n    }\n  };\n\n  return (\n    <>\n      <Accordion className={classes.acc}>\n        <AccordionSummary className={classes.accSum}>\n          <Typography style={{ fontWeight: \"bold\", fontSize: 20 }} noWrap>\n            {name}\n          </Typography>\n          <Chip\n            color=\"primary\"\n            style={{ backgroundColor: \"green\", marginLeft: 16 }}\n            label={status}\n          />\n          <div className={classes.grow}></div>\n          <Typography style={{ fontWeight: \"bold\", fontSize: 20 }} noWrap>\n            USD {(price / 100).toFixed(2)}\n          </Typography>\n          <Button\n            onClick={handleBuy}\n            className={classes.buy}\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!fetched}\n          >\n            Buy\n          </Button>\n        </AccordionSummary>\n      </Accordion>\n      {error && <Alert severity=\"error\">{error}</Alert>}\n    </>\n  );\n};\n\nexport default BuyDomain;\n","import { ethers } from \"ethers\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport NetworkConfig from \"uns/uns-config.json\";\n\nimport cnsRegistryJson from \"uns/artifacts/CNSRegistry.json\";\nimport unsRegistryJson from \"uns/artifacts/UNSRegistry.json\";\n\nimport DomainList from \"./DomainList\";\nimport BuyDomain from \"./BuyDomain\";\nimport { createContract } from \"../utils/contract\";\nimport { getDomain } from \"../sources/thegraph\";\nimport { getAvailability } from \"../services/udRegistry\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: 40,\n    marginBottom: 16,\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  loader: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n}));\n\nconst Search = ({ library, chainId }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { domain: domainParam } = useParams();\n\n  const [domainName, setDomainName] = useState();\n  const [domain, setDomain] = useState(undefined);\n  const [availability, setAvailability] = useState(undefined);\n  const [fetched, setFetched] = useState(true);\n  const [error, setError] = useState(undefined);\n\n  const { contracts } = NetworkConfig.networks[chainId];\n  const cnsRegistry = createContract(\n    library,\n    chainId,\n    cnsRegistryJson.abi,\n    contracts.CNSRegistry\n  );\n  const unsRegistry = createContract(\n    library,\n    chainId,\n    unsRegistryJson.abi,\n    contracts.UNSRegistry\n  );\n\n  useEffect(() => {\n    if (domainParam) {\n      setDomainName(domainParam);\n      search(domainParam);\n    }\n  }, [domainParam]);\n\n  const search = async (name) => {\n    try {\n      setError(undefined);\n      if (domain && name === domain.name) {\n        return;\n      }\n      setDomain(undefined);\n      setAvailability(undefined);\n      setFetched(false);\n      const tokenId = ethers.utils.namehash(name);\n      console.debug(name, tokenId);\n\n      // It is possyble to buy domain on Polygon directly from the dapp\n      if (chainId === 137) {\n        const [_domain, _availabilityResp] = await Promise.all([\n          getDomain(chainId, tokenId, true),\n          getAvailability(name),\n        ]);\n\n        const _availabilityStatus = _availabilityResp?.availability?.status;\n        if (_availabilityStatus === \"AVAILABLE\") {\n          setAvailability(_availabilityResp);\n        } else if (_domain?.id) {\n          setDomain(_domain);\n        }\n      } else {\n        const _domain = await getDomain(chainId, tokenId, true);\n        setDomain(_domain);\n      }\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setFetched(true);\n    }\n  };\n\n  const loadDomainEvents = (domain) => {\n    console.debug(\"Loading DOMAIN events...\");\n\n    const registry =\n      unsRegistry.address === domain.registry ? unsRegistry : cnsRegistry;\n    return registry.source.fetchEvents(domain).then((domainEvents) => {\n      console.debug(\"Loaded DOMAIN events\", domainEvents);\n\n      return {\n        isFetched: true,\n        events: domainEvents || [],\n      };\n    });\n  };\n\n  const handleChange = (e) => {\n    setDomainName(String(e.target.value).trim());\n  };\n\n  const keyPress = (e) => {\n    if (e.charCode === 13) {\n      history.push(`/search/${domainName}`);\n    }\n  };\n\n  return (\n    <Container style={{ paddingTop: \"3rem\" }}>\n      <Paper className={classes.root}>\n        <InputBase\n          error={!!error}\n          className={classes.input}\n          onKeyPress={keyPress}\n          onChange={handleChange}\n          placeholder=\"Search domain\"\n          inputProps={{\n            \"aria-label\": \"search domain\",\n          }}\n          defaultValue={domainName}\n          value={domainName}\n        />\n        <IconButton\n          className={classes.iconButton}\n          onClick={search}\n          aria-label=\"search\"\n        >\n          <SearchIcon />\n        </IconButton>\n      </Paper>\n      {error && <Alert severity=\"error\">{error}</Alert>}\n      {!fetched && (\n        <div className={classes.loader}>\n          <CircularProgress color=\"inherit\" />\n        </div>\n      )}\n      {fetched && availability && (\n        <div style={{ marginTop: 20 }}>\n          <BuyDomain\n            library={library}\n            name={availability?.name}\n            status={availability?.availability?.status}\n            price={availability?.availability?.price?.listPrice?.usdCents}\n          ></BuyDomain>\n        </div>\n      )}\n      {fetched && domain && (\n        <div style={{ marginTop: 20 }}>\n          <DomainList\n            chainId={chainId}\n            isFetching={!fetched}\n            domains={[domain]}\n            onEventsLoad={loadDomainEvents}\n          />\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default Search;\n","import { useEffect, useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Jazzicon from \"@metamask/jazzicon\";\n\nconst useStyles = makeStyles(() => ({\n  icon: {\n    height: \"1rem\",\n    width: \"1rem\",\n    borderRadius: \"1.125rem\",\n    borderColor: \"black\",\n  },\n}));\n\nexport default function Identicon({ account, size = 16 }) {\n  const classes = useStyles();\n  const ref = useRef();\n\n  useEffect(() => {\n    if (account && ref.current) {\n      ref.current.innerHTML = \"\";\n      ref.current.appendChild(\n        Jazzicon(size, parseInt(account.slice(2, 10), 16))\n      );\n    }\n  }, [account, size]);\n\n  return <div className={classes.icon} ref={ref} />;\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport CopyIcon from \"@material-ui/icons/FileCopy\";\n\nimport Identicon from \"./Identicon\";\n\nconst useStyles = makeStyles(() => ({\n  modal: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n  },\n  account: {\n    paddingLeft: 8,\n  },\n  btn: {\n    marginTop: 10,\n    width: \"100%\",\n  },\n}));\n\nexport default function AccountModal({ anchorEl, onClose }) {\n  const classes = useStyles();\n\n  const { account, deactivate, connector } = useWeb3React();\n\n  const open = Boolean(anchorEl);\n\n  const handleClose = () => {\n    onClose && onClose();\n  };\n\n  return (\n    <Popover\n      open={open}\n      anchorEl={anchorEl}\n      onClose={handleClose}\n      anchorOrigin={{\n        vertical: \"bottom\",\n        horizontal: \"right\",\n      }}\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n    >\n      <Container className={classes.modal}>\n        <Box className={classes.box}>\n          <Identicon account={account} size={20} />\n          <Typography className={classes.account}>\n            {account &&\n              `${account.slice(0, 6)}...${account.slice(\n                account.length - 4,\n                account.length\n              )}`}\n          </Typography>\n          <CopyToClipboard text={account}>\n            <CopyIcon\n              fontSize=\"small\"\n              style={{ marginLeft: 6, cursor: \"pointer\" }}\n            />\n          </CopyToClipboard>\n        </Box>\n        <Button\n          size=\"small\"\n          className={classes.btn}\n          onClick={() => {\n            deactivate();\n            connector.close && connector.close();\n            handleClose();\n          }}\n        >\n          Disconnect\n        </Button>\n      </Container>\n    </Popover>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/mm.ff38276e.png\";","export default __webpack_public_path__ + \"static/media/wc.304e3277.svg\";","export default __webpack_public_path__ + \"static/media/cw.a3a7d7fd.svg\";","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Typography, Button } from \"@material-ui/core\";\n\nimport mmLogo from \"./../images/mm.png\";\nimport wcLogo from \"./../images/wc.svg\";\nimport cwLogo from \"./../images/cw.svg\";\n\nimport { injected, walletconnect, walletlink } from \"./../connectors\";\n\nconst connectorsByName = {\n  MetaMask: injected,\n  WalletConnect: walletconnect,\n  \"Coinbase Wallet\": walletlink,\n};\n\nconst connectorsLogo = {\n  MetaMask: mmLogo,\n  WalletConnect: wcLogo,\n  \"Coinbase Wallet\": cwLogo,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  btn: {\n    minWidth: 300,\n    padding: 16,\n    justifyContent: \"flex-start\",\n    textTransform: \"none\",\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  img: {\n    width: \"auto\",\n    maxWidth: 26,\n    maxHeight: 24,\n    margin: \"0 auto\",\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst DialogTitle = (props) => {\n  const classes = useStyles();\n  const { children, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n};\n\nexport default function ConnectModal({ isOpen, onClose }) {\n  const classes = useStyles();\n\n  const { activate } = useWeb3React();\n\n  const handleClose = () => {\n    onClose && onClose();\n  };\n\n  return (\n    <Dialog\n      open={isOpen}\n      onClose={handleClose}\n      TransitionComponent={Transition}\n      maxWidth=\"lg\"\n      keepMounted\n    >\n      <DialogTitle onClose={handleClose}>Connect to a wallet</DialogTitle>\n      <DialogContent>\n        {Object.keys(connectorsByName).map((name) => {\n          return (\n            <div key={name}>\n              <Button\n                onClick={() => {\n                  activate(connectorsByName[name]);\n                }}\n                className={classes.btn}\n              >\n                <Typography variant=\"body1\">{name}</Typography>\n                <div className={classes.grow}></div>\n                <img\n                  src={connectorsLogo[name]}\n                  alt={name}\n                  className={classes.img}\n                />\n              </Button>\n            </div>\n          );\n        })}\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport { Typography } from '@material-ui/core';\nimport { useWeb3React } from '@web3-react/core';\nimport { formatEther } from \"@ethersproject/units\";\n\nimport Identicon from './Identicon';\nimport AccountModal from './AccountModal';\nimport ConnectModal from './ConnectModal';\nimport { CHAIN_ID_NETWORK } from './../utils/constants';\n\nconst useStyles = makeStyles((theme) => ({\n  box_net: {\n    display: 'flex',\n    alignItems: 'center',\n    background: theme.palette.grey[200],\n    borderRadius: 6,\n    padding: 8,\n    marginRight: 8,\n  },\n  box_acc: {\n    display: 'flex',\n    alignItems: 'center',\n    background: theme.palette.grey[300],\n    borderRadius: 6,\n    paddingLeft: 8,\n  },\n  info_btn: {\n    margin: '2px 2px 2px 6px',\n    background: theme.palette.grey[500],\n    color: 'white',\n    textTransform: 'none',\n  },\n  info_btn_text: {\n    paddingRight: 6,\n  },\n  connect_btn: {\n    background: theme.palette.grey[400],\n  }\n}));\n\nexport default function ConnectButton() {\n  const classes = useStyles();\n\n  const { account, library, chainId } = useWeb3React();\n\n  const [balance, setBalance] = React.useState();\n  const [modalEl, setModalEl] = React.useState(null);\n  const [connect, setConnect] = React.useState();\n\n  React.useEffect(() => {\n    if (!!account && !!library) {\n      let stale = false\n\n      library\n        .getBalance(account)\n        .then((balance) => {\n          if (!stale) {\n            setBalance(balance)\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            setBalance(null)\n          }\n        })\n\n      return () => {\n        stale = true\n        setBalance(undefined)\n      }\n    }\n  }, [account, library, chainId])\n\n  return account ? (\n    <>\n      <Box className={classes.box_net}>\n        <Typography>\n          {CHAIN_ID_NETWORK[chainId] || chainId}\n        </Typography>\n      </Box>\n      <Box className={classes.box_acc}>\n        {balance && parseFloat(formatEther(balance)).toFixed(3)} ETH\n        <Button className={classes.info_btn} onClick={(event) => setModalEl(event.currentTarget)}>\n          <Typography className={classes.info_btn_text}>\n            {account &&\n              `${account.slice(0, 6)}...${account.slice(\n                account.length - 4,\n                account.length\n              )}`}\n          </Typography>\n          <Identicon account={account} />\n        </Button>\n        <AccountModal anchorEl={modalEl} onClose={() => setModalEl(null)}/>\n      </Box>\n    </>\n  ) : (\n    <>\n      <Button\n        className={classes.connect_btn}\n        onClick={() => setConnect(true)}\n      >\n        Connect to a wallet\n      </Button>\n      <ConnectModal isOpen={connect} onClose={() => setConnect(false) } />\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { alpha, makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport BarChartIcon from \"@material-ui/icons/BarChart\";\nimport CodeIcon from \"@material-ui/icons/Code\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport ConnectButton from \"./ConnectButton\";\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontSize: \"1rem\",\n    color: theme.palette.grey[800],\n    textDecoration: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      fontSize: \"1.5rem\",\n    },\n  },\n  grow: {\n    flexGrow: 1,\n    paddingLeft: 30,\n  },\n  navBtn: {\n    color: theme.palette.grey[800],\n    marginLeft: 6,\n    padding: \"6px 0\",\n    minWidth: \"inherit\",\n    textDecoration: \"none\",\n  },\n  menuLink: {\n    color: \"inherit\",\n    textDecoration: \"none\",\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: alpha(theme.palette.common.black, 0.15),\n    \"&:hover\": {\n      backgroundColor: alpha(theme.palette.common.black, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\",\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n}));\n\nexport default function Header({ active }) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [domainName, setDomainName] = useState();\n  const open = Boolean(anchorEl);\n\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleChange = (e) => {\n    setDomainName(e.target.value);\n  };\n\n  const keyPress = (e) => {\n    if (e.charCode === 13) {\n      setDomainName(\"\");\n      history.push(`/search/${domainName}`);\n    }\n  };\n\n  return (\n    <header>\n      <AppBar position=\"fixed\" color=\"inherit\">\n        <Toolbar>\n          <Link to=\"/\" className={classes.title}>\n            <Typography variant=\"h5\" noWrap>\n              Web3 Domain Manager (beta)\n            </Typography>\n          </Link>\n          <div className={classes.grow}></div>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ \"aria-label\": \"search\" }}\n              onKeyPress={keyPress}\n              onChange={handleChange}\n              defaultValue={domainName}\n              value={domainName}\n            />\n          </div>\n          <ConnectButton />\n          <Button\n            aria-label=\"more\"\n            id=\"long-button\"\n            aria-controls=\"long-menu\"\n            aria-expanded={open ? \"true\" : undefined}\n            aria-haspopup=\"true\"\n            onClick={handleOpen}\n            className={classes.navBtn}\n          >\n            <MoreVertIcon />\n          </Button>\n          <Menu\n            anchorEl={anchorEl}\n            open={open}\n            onClose={handleClose}\n            onClick={handleClose}\n            PaperProps={{\n              style: {\n                transform: \"translateX(10px) translateY(50px)\",\n                width: 180,\n              },\n            }}\n          >\n            {/* <MenuItem component={Link} to=\"/lookup\" disabled={!active}>\n              <div style={{ flexGrow: 1 }}>Lookup</div>\n              <SearchIcon />\n            </MenuItem> */}\n            <a\n              href=\"//dune.xyz/aquiladev/uns\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className={classes.menuLink}\n            >\n              <MenuItem>\n                <div style={{ flexGrow: 1 }}>UNS stats</div>\n                <BarChartIcon />\n              </MenuItem>\n            </a>\n            <a\n              href=\"//github.com/aquiladev/web3-domain-manager\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className={classes.menuLink}\n            >\n              <MenuItem>\n                <div style={{ flexGrow: 1 }}>Code</div>\n                <CodeIcon />\n              </MenuItem>\n            </a>\n          </Menu>\n        </Toolbar>\n      </AppBar>\n    </header>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport GitHubButton from \"react-github-btn\";\n\nconst useStyles = makeStyles(() => ({\n  footer: {\n    alignItems: \"center\",\n    background: \"transparent\",\n    boxShadow: \"none\",\n  },\n  info: {\n    marginTop: 20,\n  },\n}));\n\nexport default function Footer() {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"static\" className={classes.footer}>\n      <Typography\n        color=\"textSecondary\"\n        variant=\"subtitle2\"\n        className={classes.info}\n      >\n        This is an open-source project for managing blockchain domains. It uses\n        Ethereum/Polygon blockchain and TheGraph as data sources.\n      </Typography>\n      <Toolbar>\n        <span style={{ marginRight: 12 }}>\n          <GitHubButton\n            href=\"https://github.com/aquiladev/web3-domain-manager\"\n            data-icon=\"octicon-star\"\n            data-size=\"large\"\n            aria-label=\"Star aquiladev/web3-domain-manager on GitHub\"\n          >\n            Star\n          </GitHubButton>\n        </span>\n        <span style={{ marginRight: 12 }}>\n          <GitHubButton\n            href=\"https://github.com/aquiladev/web3-domain-manager/issues\"\n            data-icon=\"octicon-issue-opened\"\n            data-size=\"large\"\n            aria-label=\"Issue aquiladev/web3-domain-manager on GitHub\"\n          >\n            Issue\n          </GitHubButton>\n        </span>\n        <span style={{ marginRight: 12 }}>\n          <GitHubButton\n            href=\"https://github.com/aquiladev\"\n            data-size=\"large\"\n            aria-label=\"Follow @aquiladev on GitHub\"\n          >\n            Follow @aquiladev\n          </GitHubButton>\n        </span>\n        {process.env.REACT_APP_GITHUB_REF_SHA && (\n          <Typography color=\"textSecondary\" variant=\"subtitle2\">\n            version: {process.env.REACT_APP_GITHUB_REF_SHA}\n          </Typography>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from \"react\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nexport default function DeprecatedNetwork({ chainId }) {\n  return (\n    <>\n      {chainId === 4 ? (\n        <Alert variant=\"filled\" severity=\"warning\" style={{ marginTop: 10 }}>\n          Rinkeby network support is deprecated, it will be disabled soon.\n        </Alert>\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport {\n  makeStyles,\n  createMuiTheme,\n  ThemeProvider,\n} from \"@material-ui/core/styles\";\nimport {\n  Web3ReactProvider,\n  useWeb3React,\n  UnsupportedChainIdError,\n} from \"@web3-react/core\";\nimport {\n  NoEthereumProviderError,\n  UserRejectedRequestError as UserRejectedRequestErrorInjected,\n} from \"@web3-react/injected-connector\";\nimport { UserRejectedRequestError as UserRejectedRequestErrorWalletConnect } from \"@web3-react/walletconnect-connector\";\nimport { ethers } from \"ethers\";\n\nimport Container from \"@material-ui/core/Container\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport GlobalStyle from \"./components/GlobalStyle\";\nimport { useEagerConnect, useInactiveListener } from \"./hooks\";\nimport Domains from \"./components/Domains\";\nimport Lookup from \"./components/Lookup\";\nimport Search from \"./components/Search\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport DeprecatedNetwork from \"./components/DeprecatedNetwork\";\n\nconst theme = createMuiTheme({\n  overrides: {\n    MuiFilledInput: {\n      input: {\n        paddingTop: \"13px\",\n      },\n    },\n    MuiDialogActions: {\n      root: {\n        display: \"block\",\n      },\n    },\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    overflow: \"hidden\",\n    minHeight: \"100%\",\n  },\n  content: {\n    paddingTop: 64,\n    minHeight: 100,\n  },\n  title: {\n    fontSize: \"1rem\",\n    [theme.breakpoints.up(\"sm\")]: {\n      fontSize: \"1.5rem\",\n    },\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  grow: {\n    flexGrow: 1,\n    paddingLeft: 30,\n  },\n  navButton: {\n    color: \"white\",\n  },\n}));\n\nfunction getErrorMessage(error) {\n  console.error(error);\n  if (error instanceof NoEthereumProviderError) {\n    return \"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.\";\n  } else if (error instanceof UnsupportedChainIdError) {\n    return \"You're connected to an unsupported network.\";\n  } else if (\n    error instanceof UserRejectedRequestErrorInjected ||\n    error instanceof UserRejectedRequestErrorWalletConnect\n  ) {\n    return \"Please authorize this website to access your Ethereum account.\";\n  } else {\n    return \"An unknown error occurred. Check the console for more details.\";\n  }\n}\n\nfunction getLibrary(provider) {\n  return new ethers.providers.Web3Provider(provider);\n}\n\nfunction DefaultApp() {\n  const classes = useStyles();\n\n  const { connector, library, account, chainId, active, error } =\n    useWeb3React();\n\n  const [activatingConnector, setActivatingConnector] = useState();\n\n  useEffect(() => {\n    if (activatingConnector && activatingConnector === connector) {\n      setActivatingConnector(undefined);\n    }\n  }, [activatingConnector, connector]);\n\n  const triedEager = useEagerConnect();\n  useInactiveListener(!triedEager || !!activatingConnector);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <HashRouter>\n        <div className={classes.root}>\n          <Header active={active} account={account} />\n          <Container maxWidth=\"lg\" className={classes.content}>\n            <DeprecatedNetwork chainId={chainId} />\n            {!!error && (\n              <Alert\n                variant=\"filled\"\n                severity=\"error\"\n                style={{\n                  position: \"fixed\",\n                  zIndex: 1200,\n                  bottom: 10,\n                  left: 10,\n                }}\n              >\n                {getErrorMessage(error)}\n              </Alert>\n            )}\n            {!active && (\n              <Alert\n                variant=\"filled\"\n                severity=\"warning\"\n                style={{\n                  marginTop: 16,\n                }}\n              >\n                Please connect your wallet\n              </Alert>\n            )}\n            <Switch>\n              <Route path=\"/lookup/:domain\">\n                {active && <Lookup library={library} chainId={chainId} />}\n              </Route>\n              <Route path=\"/search/:domain\">\n                {active && <Search library={library} chainId={chainId} />}\n              </Route>\n              <Route path=\"/lookup\">\n                {active && <Lookup library={library} chainId={chainId} />}\n              </Route>\n              <Route path=\"/\">\n                {account && (\n                  <Domains\n                    library={library}\n                    account={account}\n                    chainId={chainId}\n                  />\n                )}\n              </Route>\n            </Switch>\n          </Container>\n          <Footer />\n        </div>\n      </HashRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default function () {\n  return (\n    <Web3ReactProvider getLibrary={getLibrary}>\n      <GlobalStyle />\n      <DefaultApp />\n    </Web3ReactProvider>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\n\nimport { injected } from './connectors';\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3React()\n\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        setTried(true)\n      }\n    })\n  }, []) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true)\n    }\n  }, [tried, active])\n\n  return tried\n}\n\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3React()\n\n  useEffect(() => {\n    const { ethereum } = window;\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleConnect = () => {\n        console.log(\"Handling 'connect' event\")\n        activate(injected)\n      }\n      const handleChainChanged = (chainId) => {\n        console.log(\"Handling 'chainChanged' event with payload\", chainId)\n        activate(injected)\n      }\n      const handleAccountsChanged = (accounts) => {\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts)\n        if (accounts.length > 0) {\n          activate(injected)\n        }\n      }\n      const handleNetworkChanged = (networkId) => {\n        console.log(\"Handling 'networkChanged' event with payload\", networkId)\n        activate(injected)\n      }\n\n      ethereum.on('connect', handleConnect)\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n      ethereum.on('networkChanged', handleNetworkChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('connect', handleConnect)\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n        }\n      }\n    }\n  }, [active, error, suppress, activate])\n}\n","import React, { useMemo } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"styled-components\";\nimport { theme, Loader, Title } from \"@gnosis.pm/safe-react-components\";\nimport SafeProvider, { useSafeAppsSDK } from \"@gnosis.pm/safe-apps-react-sdk\";\nimport { SafeAppProvider } from \"@gnosis.pm/safe-apps-provider\";\nimport { ethers } from \"ethers\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\n\nimport GlobalStyle from \"./components/GlobalStyle\";\nimport Domains from \"./components/Domains\";\nimport DeprecatedNetwork from \"./components/DeprecatedNetwork\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    overflow: \"hidden\",\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n    },\n  },\n  content: {\n    paddingTop: 64,\n    minHeight: 100,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  grow: {\n    flexGrow: 1,\n    paddingLeft: 30,\n  },\n  navButton: {\n    color: \"white\",\n  },\n}));\n\nconst NETWORK_CHAIN_ID = {\n  mainnet: 1,\n  goerli: 5,\n};\n\nfunction GnosisSafeApp() {\n  const classes = useStyles();\n\n  const { sdk, safe } = useSafeAppsSDK();\n  const chainId = NETWORK_CHAIN_ID[safe.network.toLowerCase()];\n  const web3Provider = useMemo(() => {\n    return new ethers.providers.Web3Provider(\n      new SafeAppProvider(safe, sdk),\n      chainId\n    );\n  }, [sdk, safe, chainId]);\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"fixed\">\n        <Toolbar>\n          <Typography className={classes.title} variant=\"h5\" noWrap>\n            Web3 Domain Manager (beta)\n          </Typography>\n          <div className={classes.grow}></div>\n          <Typography variant=\"subtitle1\">{safe.safeAddress}</Typography>\n        </Toolbar>\n      </AppBar>\n      <Container maxWidth=\"lg\" className={classes.content}>\n        <DeprecatedNetwork chainId={chainId} />\n        <Domains\n          library={web3Provider}\n          account={safe.safeAddress}\n          chainId={chainId}\n        />\n      </Container>\n    </div>\n  );\n}\n\nexport default function () {\n  return (\n    <ThemeProvider theme={theme}>\n      <SafeProvider\n        loader={\n          <>\n            <Title size=\"md\">Waiting for Gnosis Safe...</Title>\n            <Loader size=\"md\" />\n          </>\n        }\n      >\n        <GlobalStyle />\n        <GnosisSafeApp />\n      </SafeProvider>\n    </ThemeProvider>\n  );\n}\n","import React from \"react\";\n\nimport DefaultApp from \"./DefaultApp\";\nimport GnosisSafeApp from \"./GnosisSafeApp\";\n\nexport default function () {\n  return process.env.REACT_APP_SAPP_TARGET ? <GnosisSafeApp /> : <DefaultApp />;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ReactGA from \"react-ga4\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactGA.initialize(\"G-E307TY909N\");\nReactGA.send({\n  hitType: \"pageview\",\n  page: window.location.pathname + window.location.search,\n});\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}